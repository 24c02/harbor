<%= turbo_frame_tag "currently_hacking" do %>
  <%= cache ["currently_hacking"], expires_in: 1.minute do %>
    <% if users.any? %>
      <div class="currently-hacking" onclick="this.classList.toggle('visible')">
        <div class="currently-hacking-header">
          <span>
            <div class="live-indicator"></div>
            <%= pluralize(users.count, "person") %> currently hacking
          </span>
        </div>
        <div class="currently-hacking-list">
          <hr>
          <ul>
            <% users.each do |user| %>
              <%= render "shared/user_mention", user: user, show: [:slack] %>
            <% end %>
          </ul>
        </div>
      </div>
    <% else %>
      <div class="currently-hacking">
        <p>No one is currently hacking</p>
      </div>
    <% end %>
  <% end %>
<% end %>

